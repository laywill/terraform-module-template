# Terratest GitHub Action configuration file
# More info at https://github.com/cloudposse/github-action-terratest
---
name: Terratest

# Trigger Terratest at every push.
# Action will also be visible from Pull Requests to main.
on: # yamllint disable-line rule:truthy - false positive
  # Comment this line to trigger action only on pull-requests
  # (not recommended if you don't pay for GH Actions)
  # push:

  pull_request:
    branches:
      - main
      - master
    # Uncomment this line to trigger action only on certain Pull Request events
    # types: [opened, synchronize, reopened, closed]

concurrency:
  group: ${{ github.ref }}-${{ github.workflow }}
  cancel-in-progress: true

permissions:
  contents: read

jobs:
  terratest:
    runs-on: ubuntu-latest
    steps:
      - name: Run Terratest
        uses: cloudposse/github-action-terratest@main
        with:
          sourceDir: test/
